---
title: "LibreTranslate ã§ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã«ç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹è©±"
emoji: "ğŸ—‚"
type: "tech"
topics:
  - "python"
  - "ml"
  - "argostranslate"
  - "libretranslate"
published: true
published_at: "2025-05-29 21:49"
---

[LibreTranslate - ç„¡æ–™ã‹ã¤ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãªæ©Ÿæ¢°ç¿»è¨³API](https://ja.libretranslate.com/)ã‚’ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã«æ§‹ç¯‰ã™ã‚‹æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚

## è©¦ã—ãŸç’°å¢ƒ

RedHat Linux 9.4ã€AlmaLinux 9.5 ã§è©¦ã—ã¾ã—ãŸã€‚Pythonã¯ã€3.9ã€€ç³»ã¨ 3.10 ç³»ã§ã™ã€‚

## ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ç«¯æœ«ã§ã®æº–å‚™

äºˆã‚ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã§ãƒ›ã‚¹ãƒˆã™ã‚‹ OS ã¨åŒæ§˜ã®ç’°å¢ƒã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ç¹‹ãŒã‚‹ç«¯æœ«ã«æ§‹ç¯‰ã—ã¦ãŠãã¾ã™ã€‚

### Python venv ç’°å¢ƒã®æº–å‚™

å¿…è¦ã«ã‚ˆã‚Šã€Python venv ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ¯ã‚¤ãƒ‰ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚

```
$ python -m venv libretranslate
```

ã‚³ãƒãƒ³ãƒ‰ãŒæˆåŠŸã™ã‚‹ã¨ `libretranslate` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã™ã€‚

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ãŸ venv ç’°å¢ƒã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

```
[username@hostname ~]$  source libretranslate/bin/activate
(libretranslate) [username@hostname ~]$ 
```

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†’é ­ã« `(libretranslate)` ã®ã‚ˆã†ã« venv ç’°å¢ƒåãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å–å¾—

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ libretranslate ã¨ãã®ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ `packages` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚åˆè¨ˆã§ 5G ã‚’è¶…ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã®ã§æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚

```
$ pip download -d packages libretranslate
ollecting libretranslate
  Downloading libretranslate-1.6.5-py3-none-any.whl (1.0 MB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.0 MB 561 kB/s 
Collecting argos-translate-files==1.2.0
  Downloading argos_translate_files-1.2.0-py3-none-any.whl (10 kB)
(ä»¥ä¸‹ç•¥)
```

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã€USBãƒ¡ãƒ¢ãƒªãƒ¼ç­‰ã§ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

### LibraTranslate ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

è¨€èªãƒ¢ãƒ‡ãƒ«ã‚’å–å¾—ã™ã‚‹ãŸã‚ã« LibraTranslate ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```
$ pip install --no-index --find-links=packages libretranslate
Looking in links: packages
Processing ./packages/libretranslate-1.6.5-py3-none-any.whl
Processing ./packages/APScheduler-3.9.1-py2.py3-none-any.whl
(ä»¥ä¸‹ç•¥)
```

æœ€å¾Œã« `Successfully installed` ã§å§‹ã¾ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚

### è¨€èªãƒ¢ãƒ‡ãƒ«ã®å–å¾—

`libretranslate` ã‚’ `--update-models` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ä»˜ãã§èµ·å‹•ã—ã¾ã™ã€‚

```
$ libretranslate --update-models
Updating language models
Found 94 models
Downloading Albanian â†’ English (1.9) ...
(ä»¥ä¸‹ç•¥)
```

å®Ÿè¡Œã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ `~/.local/share/argos-translate` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«è¨€èªãƒ¢ãƒ‡ãƒ«ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚åˆè¨ˆã§ 8G ã‚’è¶…ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã€æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚

`argos-translate` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã€USBãƒ¡ãƒ¢ãƒªãƒ¼ç­‰ã§ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

â€»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¯ã€å†…éƒ¨ã§ [Argos Translate](https://github.com/argosopentech/argos-translate)ã¨ã„ã†ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«æ©Ÿæ¢°ç¿»è¨³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã«ç”±æ¥ã—ã¾ã™ã€‚

ãªãŠã€è¨€èªãƒ¢ãƒ‡ãƒ«å–å¾—å¾Œã€ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã€`http://127.0.0.1:5000` ã§å¾…ã¡å—ã‘ã¾ã™ã€‚ 

```
Loaded support for 47 languages (94 models total)!
Running on http://127.0.0.1:5000
```

`Ctrl`+`C` ã§åœæ­¢ã—ã¾ã™ã€‚

## ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ç’°å¢ƒã§ã®ä½œæ¥­

### Python venv ç’°å¢ƒã®æº–å‚™

æ‰‹é †ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ç«¯æœ«ã§ã®æ‰‹é †ã¨åŒã˜ã§ã™ã€‚

```
$ python -m venv libretranslate
$  source libretranslate/bin/activate
```

ãªãŠã€ãƒ‘ã‚¹ãŒåŒã˜ã«ãªã‚‹ãªã‚‰ã€venv ã§ä½œæˆã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ç«¯æœ«ã‹ã‚‰ã€ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’çœç•¥ã§ãã¾ã™ã€‚

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã“ã¡ã‚‰ã‚‚æ‰‹é †ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ç«¯æœ«ã§ã®æ‰‹é †ã¨åŒã˜ã§ã™ã€‚å½“è©²ç«¯æœ«ã‹ã‚‰ã€ã‚³ãƒ”ãƒ¼ã—ã¦ããŸ packages ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª(è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```
$ pip install --no-index --find-links=packages libretranslate
Looking in links: packages
Processing ./packages/libretranslate-1.6.5-py3-none-any.whl
Processing ./packages/APScheduler-3.9.1-py2.py3-none-any.whl
(ä»¥ä¸‹ç•¥)
```

### è¨€èªãƒ¢ãƒ‡ãƒ«ã®é…ç½®

ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ç«¯æœ«ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ããŸ `argos-translate` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’`~/.local/share/` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

### ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®è¨­å®š

LibreTranslate ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ›ã‚¹ãƒˆä»¥å¤–ã‹ã‚‰ã®æ¥ç¶šã‚’è¨±å¯ã™ã‚‹å ´åˆã¯ã€ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®è¨­å®šã‚’è¡Œã£ã¦ãã ã•ã„ã€‚RedHatç³»ã®å ´åˆã€`firewalld` ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã®ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§æ¥ç¶šã‚’è¨±å¯ã—ã¾ã™ã€‚

```
$ sudo firewall-cmd --add-port=5000/tcp --permanent 
[sudo] username ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:
success
$ sudo firewall-cmd --reload 
success
```

è¨±å¯ã™ã‚‹ãƒãƒ¼ãƒˆã¯ã€å¿…è¦ã«ã‚ˆã‚Šã€å¤‰æ›´ã—ã¾ã™ã€‚

### ã‚µãƒ¼ãƒ“ã‚¹ã®èµ·å‹•

LibreTranslate ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ›ã‚¹ãƒˆä»¥å¤–ã‹ã‚‰ã®æ¥ç¶šã•ã›ã‚‹å ´åˆã¯ã€`--host 0.0.0.0` ä»˜ãã§èµ·å‹•ã—ã¾ã™ã€‚

```
$ libretranslate --host 0.0.0.0
Running on http://0.0.0.0:5000
```

ã“ã‚Œã§ `http://IPã‚¢ãƒ‰ãƒ¬ã‚¹:5000/` ã§å¤–éƒ¨ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€`--port` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### gunicorn ã§èµ·å‹•ã™ã‚‹å ´åˆ

gunicorn[^1] ã‚’ libretranslate ã¨åŒæ§˜ã®æ–¹æ³•ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ 

```
$ pip download -d packages gunicorn
```

```
$ pip install --no-index --find-links=packages gunicorn
```

https://github.com/LibreTranslate/LibreTranslate ã‹ã‚‰ã€ `<>CODE`â†’`Download ZIP` ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ã¾ã™ã€‚

```
$ unzip LibreTranslate-main.zip
```

å±•é–‹ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å¤‰æ›´ã—ã€gunicorn ã‚’èµ·å‹•ã—ã¾ã™ã€‚

```
$ cd LibreTranslate-main/
$ gunicorn --bind 0.0.0.0:5000 'wsgi:app'
```

å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã©ã“ã§å®Ÿè¡Œã™ã‚‹ã‹ã€ã¯ã£ãã‚Šæ›¸ã„ã¦ãªãã¦å°‘ã—æ‚©ã¿ã¾ã—ãŸ ğŸ˜“

## ä½¿ç”¨æ„Ÿ

æ¡ä»¶ã«ã‚ˆã‚Šã€ç¿»è¨³ã®ç²¾åº¦ãŒã‚¤ãƒã‚¤ãƒãªå ´åˆãŒã‚ã‚‹ãŒã€ãã‚Œãªã‚Šã«ä½¿ãˆãã†ã€‚æ‰‹ç›´ã—ã¯å¿…è¦ã§ã‚ã‚ã†ãŒã€PowerPoint ãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç¿»è¨³ãŒã§ãã‚‹ã®ã¯é­…åŠ›çš„ã§ã‚ã‚‹ã€‚

![](https://storage.googleapis.com/zenn-user-upload/aeac118eff03-20250529.png)

`I'll be back` ãŒ `ãŠå•ã„åˆã‚ã›` ã¨ç¿»è¨³ã•ã‚Œã‚‹ã®ã¯ã„ãŸã ã‘ãªã„ğŸ˜

`I will be back` ãªã‚‰ã€ã¾ã‚â€¦ã€‚

è¨€èªãƒ¢ãƒ‡ãƒ«ã‚’é›ãˆã‚Œã°ã€ã„ã„ã‚“ã§ã—ã‚‡ã†ã‘ã©ã€‚

## èª¿æŸ»ä¸­ã®å†…å®¹

### gunicorn ã‚’é€šã™ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ—¥æœ¬èªåŒ–ã•ã‚Œãªã„

![](https://storage.googleapis.com/zenn-user-upload/2a7cb3a8fee0-20250529.png)

ã¾ã‚ã€ä½¿ç”¨ã«æ”¯éšœã¯ãªã„ã§ã™ã‘ã©ã­â€¦ã€‚

Django[^2] ã§ static ä»¥ä¸‹ã‚’åˆ¥ã§é…ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹[^3]ã®ã¨åŒã˜ãªã®ã‹ã€Flask[^4] ç‰¹æœ‰ã®ä½œæ³•ãŒã‚ã‚‹ã®ã‹èª¿æŸ»ä¸­ã€‚

## ãŠã¾ã‘

Web ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦å…¬é–‹ã™ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€`argostranslate` ã‚„ `argostranslategui` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ pip ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã‚‚æ‰‹ã§ã™ã€‚

å‰è€…ã¯ `argos-translate` ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã€å¾Œè€…ã¯ `argos-translate-gui` ã§ GUI ã‚’æä¾›ã—ã¾ã™ã€‚(ãŸã ã—ã€Qt[^5] ãŒå¿…è¦)

```
$ argos-translate -f ja -t en "ãƒˆãƒ³ãƒãƒ«ã‚’æŠœã‘ã‚‹ã¨ãã“ã¯é›ªå›½ã ã£ãŸã€‚"
It was a snow country when I passed through the tunnel.
```

![](https://storage.googleapis.com/zenn-user-upload/1dc7af80f807-20250529.png)

æœ€è¿‘ã€ã‚ã¾ã‚Šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ãªã•ãã†ãªã®ãŒæ°—ã«ãªã‚‹ã‘ã©â€¦ ğŸ˜“

[^1]: [Gunicorn - Python WSGI HTTP Server for UNIX](https://gunicorn.org/)
[^2]: [The web framework for perfectionists with deadlines | Django](https://www.djangoproject.com/)
[^3]: [é™çš„ãƒ•ã‚¡ã‚¤ãƒ« (ç”»åƒã€JavaScriptã€CSS ãªã©) ã‚’ç®¡ç†ã™ã‚‹ | Django documentation | Django](https://docs.djangoproject.com/ja/5.2/howto/static-files/)
[^4]: [Welcome to Flask â€” Flask Documentation (3.1.x)](https://flask.palletsprojects.com/en/stable/)
[^5]: [Qt | ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®å„ã‚¹ãƒ†ãƒ¼ã‚¸ã«å¯¾å¿œã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯](https://www.qt.io/ja-jp/)