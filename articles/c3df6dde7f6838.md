---
title: "GitBucket ã§ Markdown ã‚’ HTML ã«å¤‰æ›ã—ã¦ã„ã‚‹éƒ¨åˆ†ã‚’æ¢ã‚‹"
emoji: "ğŸ™Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["GitBucket", "Scala", "Markdown"]
published: true
---

## ãã£ã‹ã‘

https://github.com/yasumichi/gitbucket-markdown-enhanced/issues/1

> ç¾åœ¨ã€ãƒªãƒã‚¸ãƒˆãƒªå†…ã® *.mdï¼ˆä¾‹ï¼šREADME ç­‰ï¼‰ã§ã¯æ‹¡å¼µMarkdownï¼ˆmermaid / KaTeX / PlantUML / admonition ãªã©ï¼‰ãŒæ­£ã—ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ãŒã€Wiki / Issues / PR ã®æœ¬æ–‡ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã§ã¯åæ˜ ã•ã‚Œãªã„ã‚ˆã†ã§ã™ã€‚
>
> è¦æœ›: Wikiã€Issuesã€Pull Requestsï¼ˆæœ¬æ–‡ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆï¼‰ã€ãŠã‚ˆã³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§ã‚‚æœ¬ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’æœ‰åŠ¹åŒ–ã§ããªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ

3ã‚«æœˆã»ã©ã€issue ã«æ°—ã¥ã‹ãšã«ç”³ã—è¨³ãªã‹ã£ãŸã§ã™ãŒã€é–‹ç™ºè€…è‡ªèº«ã‚‚å°†æ¥çš„ã«å®Ÿç¾ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã—ãŸã€‚

ç¾çŠ¶ã€GitBucket å´ã§æ‹¡å¼µã®ä»•çµ„ã¿ãŒç”¨æ„ã•ã‚Œã¦ã„ãªã„æ°—ãŒã—ã¦ã„ã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšã€ç¾çŠ¶ã‚’æ¢ã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚

## ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦ç™»éŒ²ã™ã‚‹ä»•çµ„ã¿

[gitbucket.core.plugin.PluginRegistry](https://github.com/gitbucket/gitbucket/blob/master/src/main/scala/gitbucket/core/plugin/PluginRegistry.scala) ã‚¯ãƒ©ã‚¹ã® [addRenderer](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/plugin/PluginRegistry.scala#L88C7-L88C18) ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ç™»éŒ²ã—ã¾ã™ã€‚

```scala
  def addRenderer(extension: String, renderer: Renderer): Unit = renderers.put(extension, renderer)
```

[GitBucket Markdown Enhanced Plugin](https://github.com/yasumichi/gitbucket-markdown-enhanced) ã§ã¯ã€[Plugin](https://github.com/yasumichi/gitbucket-markdown-enhanced/blob/main/src/main/scala/Plugin.scala) ã‚¯ãƒ©ã‚¹ã® [initialize](https://github.com/yasumichi/gitbucket-markdown-enhanced/blob/5355991f44851a6b5219415c7eec623e1d6f0cf3/src/main/scala/Plugin.scala#L29C16-L29C26) ãƒ¡ã‚½ãƒƒãƒ‰ã§å‘¼ã³å‡ºã—ã¦ã„ã¾ã™ã€‚

```scala
  override def initialize(registry: PluginRegistry, context: ServletContext, settings: SystemSettingsService.SystemSettings): Unit = {
    val test = Try{ new MarkdownEnhancedRenderer() }
    val mer = test.get
    registry.addRenderer("md", mer)
    renderer = Option(mer)
    super.initialize(registry, context, settings)
  }
```

## ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å–å¾—ã™ã‚‹ä»•çµ„ã¿

[gitbucket.core.plugin.PluginRegistry](https://github.com/gitbucket/gitbucket/blob/master/src/main/scala/gitbucket/core/plugin/PluginRegistry.scala) ã‚¯ãƒ©ã‚¹ã® [getRenderer](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/plugin/PluginRegistry.scala#L90) ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§å–å¾—ã—ã¾ã™ã€‚

```scala
  def getRenderer(extension: String): Renderer = renderers.asScala.getOrElse(extension, DefaultRenderer)
```

## PluginRegistry ã® getRender ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®èª¿æŸ»

[gitbucket.core.view.helpers](https://github.com/gitbucket/gitbucket/blob/master/src/main/scala/gitbucket/core/view/helpers.scala) ã® [renderMarkup](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/view/helpers.scala#L135) ãƒ¡ã‚½ãƒƒãƒ‰ã§å‘¼ã³å‡ºã•ã‚Œã¦ã„ã¾ã™ã€‚(1ç®‡æ‰€ã®ã¿)

```scala
    val fileName = filePath.last.toLowerCase
    val extension = FileUtil.getExtension(fileName)
    val renderer = PluginRegistry().getRenderer(extension)
    renderer.render(
      RenderRequest(filePath, fileContent, branch, repository, enableWikiLink, enableRefsLink, enableAnchor, context)
    )
```

## gitbucket.core.view.helpers ã® renderMarkup ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®èª¿æŸ»

twirl ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ä»¥ä¸‹ã®2ãƒ•ã‚¡ã‚¤ãƒ«ãŒè©²å½“ã—ã¾ã—ãŸã€‚

- [src/main/twirl/gitbucket/core/repo/blob.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/repo/blob.scala.html#L86)
- [src/main/twirl/gitbucket/core/repo/files.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/repo/files.scala.html#L223)

ã¾ãŸã€Scala ã‚½ãƒ¼ã‚¹ã§ã¯ã€ä»¥ä¸‹ã®2ãƒ•ã‚¡ã‚¤ãƒ«ãŒè©²å½“ã—ã¾ã—ãŸã€‚

- [src/main/scala/gitbucket/core/controller/api/ApiRepositoryContentsControllerBase.scala](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/controller/api/ApiRepositoryContentsControllerBase.scala#L8)
- [src/main/scala/gitbucket/core/controller/RepositoryViewerController.scala](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/controller/RepositoryViewerController.scala#L176)

ã„ãšã‚Œã‚‚ãƒªãƒã‚¸ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã«é–¢ã™ã‚‹ã‚½ãƒ¼ã‚¹ã§ã‚ã‚Šã€wiki ãªã©ã«ã¯åˆ©ç”¨ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚

# GitBuket æ¨™æº–ã® Markdown ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼

[gitbucket.core.plugin.PluginRegistry](https://github.com/gitbucket/gitbucket/blob/master/src/main/scala/gitbucket/core/plugin/PluginRegistry.scala) ã‚¯ãƒ©ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’ä¿æŒã—ã¦ã„ã‚‹ ConcurrentHashMap ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ renderers å®šç¾©ã®ã‚ãŸã‚Šã‚’è¦‹ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```scala
  private val renderers = new ConcurrentHashMap[String, Renderer]
  renderers.put("md", MarkdownRenderer)
  renderers.put("markdown", MarkdownRenderer)
```

`md` ã‚„ `markdown` ã¨ã„ã£ãŸæ‹¡å¼µå­ã¯ã€MarkdownRenderer ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæ‹…å½“ã™ã‚‹ã‚ˆã†ã§ã™ã€‚

MarkdownRenderer ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€[src/main/scala/gitbucket/core/plugin/Renderer.scala](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/plugin/Renderer.scala#L21)ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

```scala
object MarkdownRenderer extends Renderer {
  override def render(request: RenderRequest): Html = {
    import request._
    Html(
      Markdown.toHtml(
        markdown = fileContent,
        repository = repository,
        branch = branch,
        enableWikiLink = enableWikiLink,
        enableRefsLink = enableRefsLink,
        enableAnchor = enableAnchor,
        enableLineBreaks = false,
        enableTaskList = true,
        hasWritePermission = false
      )(context)
    )
  }
}
```

å®Ÿéš›ã« Markdown ã‚’ HTML ã«å¤‰æ›ã—ã¦ã„ã‚‹ã®ã¯ã€Markdown ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® toHtml ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚ˆã†ã§ã™ã€‚

Markdown ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€[src/main/scala/gitbucket/core/view/Markdown.scala](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/view/Markdown.scala#L13)ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

```scala
  def toHtml(
    markdown: String,
    repository: RepositoryService.RepositoryInfo,
    branch: String,
    enableWikiLink: Boolean,
    enableRefsLink: Boolean,
    enableAnchor: Boolean,
    enableLineBreaks: Boolean,
    enableTaskList: Boolean = false,
    hasWritePermission: Boolean = false,
    pages: List[String] = Nil
  )(implicit context: Context): String = {

    // escape task list
    val source = if (enableTaskList) escapeTaskList(markdown) else markdown

    val options = new Options()
    options.setBreaks(enableLineBreaks)

    val renderer = new GitBucketMarkedRenderer(
      options,
      repository,
      branch,
      enableWikiLink,
      enableRefsLink,
      enableAnchor,
      enableTaskList,
      hasWritePermission,
      pages
    )

    Marked.marked(source, options, renderer)
  }
```

ã¨æ€ã£ãŸã‚‰ã€æœ€çµ‚çš„ã«ã¯ã€Marked ã‚¯ãƒ©ã‚¹ã® marked ãƒ¡ã‚½ãƒƒãƒ‰ã®ã§ã™ã€‚

Marked ã¯ã€GitBucket ã®é–‹ç™ºè€…ã•ã‚“ãŒã€JavaScript ã§æ›¸ã‹ã‚ŒãŸ [marked.js](https://github.com/markedjs/marked) ã‚’å…ƒã« JVM ã§å‹•ä½œã™ã‚‹å®Ÿè£…ã‚’ Java ã§æ›¸ã‹ã‚ŒãŸ [markedj](https://github.com/gitbucket/markedj)ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

## Markdown.toHTML() ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®èª¿æŸ»

[src/main/scala/gitbucket/core/controller/IssuesController.scala](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/scala/gitbucket/core/controller/IssuesController.scala#L277) ã®2ç®‡æ‰€ã§å‘¼ã³å‡ºã•ã‚Œã„ã¾ã™ã€‚

```scala
  ajaxGet("/:owner/:repository/issues/_data/:id")(readableUsersOnly { repository =>
    context.withLoginAccount { loginAccount =>
      getIssue(repository.owner, repository.name, params("id")) map { x =>
        if (isEditableContent(x.userName, x.repositoryName, x.openedUserName, loginAccount)) {
          params.get("dataType") collect {
            case t if t == "html" => html.editissue(x.content, x.issueId, repository)
          } getOrElse {
            contentType = formats("json")
            org.json4s.jackson.Serialization.write(
              Map(
                "title" -> x.title,
                "content" -> Markdown.toHtml(
                  markdown = x.content getOrElse "No description given.",
                  repository = repository,
                  branch = repository.repository.defaultBranch,
                  enableWikiLink = false,
                  enableRefsLink = true,
                  enableAnchor = true,
                  enableLineBreaks = true,
                  enableTaskList = true,
                  hasWritePermission = true
                )
              )
            )
          }
        } else Unauthorized()
      } getOrElse NotFound()
    }
  })
```

```scala
  ajaxGet("/:owner/:repository/issue_comments/_data/:id")(readableUsersOnly { repository =>
    context.withLoginAccount { loginAccount =>
      getComment(repository.owner, repository.name, params("id")) map { x =>
        if (isEditableContent(x.userName, x.repositoryName, x.commentedUserName, loginAccount)) {
          params.get("dataType") collect {
            case t if t == "html" => html.editcomment(x.content, x.commentId, repository)
          } getOrElse {
            contentType = formats("json")
            org.json4s.jackson.Serialization.write(
              Map(
                "content" -> view.Markdown.toHtml(
                  markdown = x.content,
                  repository = repository,
                  branch = repository.repository.defaultBranch,
                  enableWikiLink = false,
                  enableRefsLink = true,
                  enableAnchor = true,
                  enableLineBreaks = true,
                  enableTaskList = true,
                  hasWritePermission = true
                )
              )
            )
          }
        } else Unauthorized()
      } getOrElse NotFound()
    }
  })
```

Issue ã«ã¤ã„ã¦ã¯ã€ã“ã®è¾ºã‚Šã‚’å¤‰æ›´ã—ãªã„ã¨ç„¡ç†ãã†ã§ã™ã€‚

### è¿½è¨˜

è©²å½“éƒ¨åˆ†ã‚’ helpers.renderMarkup ã«å¤‰ãˆãŸã ã‘ã§ã¯ã€java.lang.StackOverflowError ãŒç™ºç”Ÿã—ã€Internal Server Error ã¨ãªã£ã¦ã—ã¾ã†ã“ã¨ã‚’ç¢ºèªã€‚ç¾åœ¨ã€å¯¾å‡¦æ–¹æ³•ã‚’èª¿æŸ»ä¸­ã€‚

ãã®å¾Œã€helpers.renderMarkup() ãŒ HTML ã‚’è¿”ã™ã®ã§ toString() ã§æ–‡å­—åˆ—ã«ã™ã‚Œã°ã€å•é¡Œãªã„ã“ã¨ã‚’ç¢ºèªã€‚

## ~~Wiki ã‚„ Pull Requests ã§ã¯ã©ã†ã—ã¦ã„ã‚‹ã®ã‹ã€ä»Šå¾Œã€èª¿æŸ»äºˆå®š~~

~~Wiki ã‚„ Pull Requests ã§ã¯ã©ã†ã—ã¦ã„ã‚‹ã®ã‹ã€ä»Šå¾Œã€èª¿æŸ»ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚~~

~~PR ã¯ã€Issue ã®ä»•çµ„ã¿ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ãŒâ€¦~~

## Wiki ã§ã¯ helpers ã® renderMarkup ã§ã¯ãªã markdown ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹

[src/main/twirl/gitbucket/core/wiki/page.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/wiki/page.scala.html#L62) ã«ã¦ã€ä»¥ä¸‹ã®2ç®‡æ‰€ã§ `@helpers.markdown()` ã‚’å‘¼ã³å‡ºã—ã¦ã„ã¾ã™ã€‚

```scala
        <div class="wiki-sidebar">
          @if(isEditable){
            <a href="@helpers.url(repository)/wiki/_Sidebar/_edit" style="text-decoration: none;"><span class="octicon octicon-pencil pull-right"></span></a>
          }
          @helpers.markdown(sidebarPage.content, repository, "master", true, false, false, false, pages)
        </div>
```

```scala
    <div class="wiki-main">
      <div class="markdown-body">
        @helpers.markdown(
          markdown = page.content,
          repository = repository,
          branch = "master",
          enableWikiLink = true,
          enableRefsLink = false,
          enableLineBreaks = false,
          enableTaskList = false,
          hasWritePermission = false,
          pages = pages
        )
      </div>
```

å°‘ãªãã¨ã‚‚ `markdown-body` ã®éƒ¨åˆ†ã¯ã€`@helpers.renderMarkup()` ã®å‘¼ã³å‡ºã—ã«å¤‰ãˆã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚

[helpers.markdownã§æ¤œç´¢ã—ãŸçµæœ](https://github.com/search?q=repo%3Agitbucket%2Fgitbucket%20helpers.markdown&type=code)ã«ã‚ˆã‚‹ã¨ä»¥ä¸‹ã§ã‚‚ `@helpers.markdown()` ãŒå‘¼ã³å‡ºã•ã‚Œã¦ã„ã¾ã™ã€‚

- [src/main/twirl/gitbucket/core/releases/list.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/releases/list.scala.html#L29)
- [src/main/twirl/gitbucket/core/pulls/mergeguide.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/pulls/mergeguide.scala.html#L46)
- [src/main/twirl/gitbucket/core/issues/milestones/milestone.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/issues/milestones/milestone.scala.html#L67)
- [src/main/twirl/gitbucket/core/issues/commentlist.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/issues/commentlist.scala.html#L35)
- [src/main/twirl/gitbucket/core/issues/milestones/list.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/issues/milestones/list.scala.html#L81)
- [src/main/twirl/gitbucket/core/releases/release.scala.html](src/main/twirl/gitbucket/core/releases/release.scala.html)
- [src/main/twirl/gitbucket/core/helper/commitcomment.scala.html](https://github.com/gitbucket/gitbucket/blob/8a79de8b502f45ad0c9724aac4fbb36355df1da0/src/main/twirl/gitbucket/core/helper/commitcomment.scala.html#L24)

## helpers.renderMarkup ã¨ helpers.markdown ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®é•ã„

### helpers.renderMarkup

|ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼å | ãƒ‡ãƒ¼ã‚¿å‹                        |
|--------------|--------------------------------|
|filePath      |List[String]                    |
|fileContent   |String                          |
|branch        |String                          |
|repository    |RepositoryService.RepositoryInfo|
|enableWikiLink|Boolean                         |
|enableRefsLink|Boolean                         |
|enableAnchor  |Boolean                         |

### helpers.markdown

|ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼å     |ãƒ‡ãƒ¼ã‚¿å‹                         |
|------------------|--------------------------------|
|markdown          |String                          |
|repository        |RepositoryService.RepositoryInfo|
|branch            |String                          |
|enableWikiLink    |Boolean                         |
|enableRefsLink    |Boolean                         |
|enableLineBreaks  |Boolean                         |
|enableAnchor      |Boolean = true                  |
|enableTaskList    |Boolean = false                 |
|hasWritePermission|Boolean = false                 |
|pages             |List[String] = Nil              |

## ã‚³ãƒŸãƒƒãƒˆã‚³ãƒ¡ãƒ³ãƒˆã‚„ Wikiã€Issue ã§ä»£æ›¿ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ä¿®æ­£

è‰²ã€…ã€ãƒãƒã‚ŠãªãŒã‚‰ã‚‚ä½•ã¨ã‹å‹•ãã‚ˆã†ã«ãªã£ãŸã€‚

[Added support for an alternative renderer to commit comments, wikis, â€¦ Â· yasumichi/gitbucket@c23e444](https://github.com/yasumichi/gitbucket/commit/c23e444789eab86065fbf127581e9a390ebd7409)

ä¸Šè¨˜ã‚³ãƒŸãƒƒãƒˆã‚’æœ¬å®¶ã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸã€‚

[Added support for an alternative renderer to commit comments, wikis, â€¦ Â· yasumichi/gitbucket@c23e444](https://github.com/gitbucket/gitbucket/pull/3881)
